# 异常

在Java程序中，异常处理是非常重要的。
我们自己编写的方法，也经常抛出各种异常。对于可能抛出的异常进行测试，本身就是测试的重要环节。
因此，在编写JUnit测试的时候，除了正常的输入输出，我们还要特别针对可能导致异常的情况进行测试。

我们仍然用Factorial举例：
public class Factorial {
    public static long fact(long n) {
        if (n < 0) {
            throw new IllegalArgumentException();
        }
        long r = 1;
        for (long i = 1; i <= n; i++) {
            r = r * i;
        }
        return r;
    }
}

在方法入口，我们增加了对参数n的检查，如果为负数，则直接抛出IllegalArgumentException。
现在，我们希望对异常进行测试。在JUnit测试中，我们可以编写一个@Test方法专门测试异常：
@Test
void testNegative() {
    assertThrows(IllegalArgumentException.class, new Executable() {
        @Override
        public void execute() throws Throwable {
            Factorial.fact(-1);
        }
    });
}

JUnit提供assertThrows()来期望捕获一个指定的异常。













































































































